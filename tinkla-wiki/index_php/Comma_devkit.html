<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>Comma devkit - Tinkla: Tinkering with Tesla</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Comma_devkit","wgTitle":"Comma devkit","wgCurRevisionId":1392,"wgRevisionId":1392,"wgArticleId":195,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Comma_devkit","wgRelevantArticleId":195,"wgRequestId":"d97c7fb0a9931c46595be352","wgCSPNonce":false,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.content.externallinks":"ready","skins.timeless":"ready","skins.timeless.misc":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.timeless.js","skins.timeless.mobile"];mw.loader.load(RLPAGEMODULES);});</script>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.toc.styles%7Cskins.timeless%7Cskins.timeless.misc&amp;only=styles&amp;skin=timeless" rel="stylesheet"/>
<script async="" src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=timeless"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=timeless" rel="stylesheet"/>
<meta content="MediaWiki 1.32.1" name="generator"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/opensearch_desc.php" rel="search" title="Tinkla: Tinkering with Tesla (en)" type="application/opensearchdescription+xml"/>
<link href="https://tinkla.us/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="Tinkla: Tinkering with Tesla Atom feed" type="application/atom+xml"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Timeless&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Comma_devkit rootpage-Comma_devkit skin-timeless action-view"><div id="mw-wrapper"><div class="ts-container" id="mw-header-container"><div class="ts-inner" id="mw-header"><div id="user-tools"><div id="personal"><h2><span>Anonymous</span><div class="pokey"></div></h2><div class="dropdown" id="personal-inner"><div aria-labelledby="p-personal-label" class="mw-portlet" id="p-personal" role="navigation"><h3 dir="ltr" id="p-personal-label" lang="en">Not logged in</h3><div class="mw-portlet-body"><ul><li id="pt-createaccount"><a href="index.php" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login"><a accesskey="o" href="index.php" title="You are encouraged to log in; however, it is not mandatory [o]"><span>Log in</span></a></li></ul></div></div></div></div></div><div class="mw-portlet" id="p-logo-text" role="banner"><a class="mw-wiki-title long" href="index_php/Main_Page.html" id="p-banner">Tinkla: Tinkering with Tesla</a></div><div class="mw-portlet" id="p-search"><h3 dir="ltr" lang="en"><label for="searchInput">Search</label></h3><form action="/index.php" id="searchform"><div id="simpleSearch"><div id="searchInput-container"><input accesskey="f" id="searchInput" name="search" placeholder="Search Tinkla: Tinkering with Tesla" title="Search Tinkla: Tinkering with Tesla [f]" type="search"/></div><input name="title" type="hidden" value="Special:Search"/><input class="searchButton mw-fallbackSearchButton" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" value="Search"/><input class="searchButton" id="searchButton" name="go" title="Go to a page with this exact name if it exists" type="submit" value="Go"/></div></form></div></div><div class="visualClear"></div></div><div class="color-bar" id="mw-header-hack"><div class="color-middle-container"><div class="color-middle"></div></div><div class="color-left"></div><div class="color-right"></div></div><div id="mw-header-nav-hack"><div class="color-bar"><div class="color-middle-container"><div class="color-middle"></div></div><div class="color-left"></div><div class="color-right"></div></div></div><div id="menus-cover"></div><div class="ts-container" id="mw-content-container"><div class="ts-inner" id="mw-content-block"><div id="mw-content-wrapper"><div id="mw-content"><div class="mw-body" id="content" role="main"><div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading" id="firstHeading">Comma devkit</h1><div id="siteSub">From Tinkla: Tinkering with Tesla</div><div id="mw-page-header-links"><div aria-labelledby="p-namespaces-label" class="mw-portlet" id="p-namespaces" role="navigation"><h3 dir="ltr" id="p-namespaces-label" lang="en">Namespaces</h3><div class="mw-portlet-body"><ul><li class="selected" id="ca-nstab-main"><a accesskey="c" href="index_php/Comma_devkit.html" title="View the content page [c]"><span>Page</span></a></li><li class="new" id="ca-talk"><a accesskey="t" href="/index.php?title=Talk:Comma_devkit&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]"><span>Discussion</span></a></li></ul></div></div><div aria-labelledby="p-more-label" class="mw-portlet" id="p-more" role="navigation"><h3 dir="ltr" id="p-more-label" lang="en">More</h3><div class="mw-portlet-body"><ul><li class="dropdown-toggle" id="ca-more"><span>More</span></li></ul></div></div><div aria-labelledby="p-views-label" class="mw-portlet" id="p-views" role="navigation"><h3 dir="ltr" id="p-views-label" lang="en">Page actions</h3><div class="mw-portlet-body"><ul><li class="selected" id="ca-view"><a href="index_php/Comma_devkit.html" redundant="1"><span>View</span></a></li><li id="ca-viewsource"><a accesskey="e" href="index.php" title="This page is protected.
You can view its source [e]"><span>View source</span></a></li><li id="ca-history"><a accesskey="h" href="index.php" title="Past revisions of this page [h]"><span>History</span></a></li><li id="ca-myact"><a href="index.php"><span>My action</span></a></li></ul></div></div></div><div class="visualClear"></div><div class="mw-body-content" id="bodyContent"><div id="contentSub"></div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p>The Comma devkit (two or three) is the name associated in the Comma.ai community to the device that sits in your windshield and does all the calculations for LKA and ACC.
</p>
<div class="toc" id="toc"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index_php/Comma_devkit.html"><span class="tocnumber">1</span> <span class="toctext">Comma DevKit</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index_php/Comma_devkit.html"><span class="tocnumber">2</span> <span class="toctext">Installing the Comma devkit</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="index_php/Comma_devkit.html"><span class="tocnumber">2.1</span> <span class="toctext">Tips</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="index_php/Comma_devkit.html"><span class="tocnumber">2.2</span> <span class="toctext">Instructions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="index_php/Comma_devkit.html"><span class="tocnumber">2.3</span> <span class="toctext">preAP Model S only: Hide the Thuderbolt3 cable above the Headliner</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="index_php/Comma_devkit.html"><span class="tocnumber">3</span> <span class="toctext">Installing OpenPilot for Tesla</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="index_php/Comma_devkit.html"><span class="tocnumber">3.1</span> <span class="toctext">If you had OpenPilot for Tesla v0.6.6 (tesla_devel) or v0.7.4 (tesla_alpha) installed</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="index_php/Comma_devkit.html"><span class="tocnumber">3.2</span> <span class="toctext">Installing the Tinkla version of OpenPilot</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="index_php/Comma_devkit.html"><span class="tocnumber">3.3</span> <span class="toctext">Removing Dashcam Software</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="index_php/Comma_devkit.html"><span class="tocnumber">3.4</span> <span class="toctext">How can I reset my Comma devkit to factory settings?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="index_php/Comma_devkit.html"><span class="tocnumber">4</span> <span class="toctext">Configuration and Firmware Patches</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="index_php/Comma_devkit.html"><span class="tocnumber">4.1</span> <span class="toctext">Edit your Config</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="index_php/Comma_devkit.html"><span class="tocnumber">4.2</span> <span class="toctext">Flash your Panda</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="index_php/Comma_devkit.html"><span class="tocnumber">4.3</span> <span class="toctext">What do the Panda LED colors mean? (on the back of the devkit)</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="index_php/Comma_devkit.html"><span class="tocnumber">4.4</span> <span class="toctext">preAP only: Patch your EPAS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5</span> <span class="toctext">Almost there</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5.1</span> <span class="toctext">Final steps</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5.2</span> <span class="toctext">First OpenPilot Drive</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5.3</span> <span class="toctext">If your car is recognized</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5.4</span> <span class="toctext">If your car is not recognized</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="index_php/Comma_devkit.html"><span class="tocnumber">5.5</span> <span class="toctext">Experiencing issues?</span></a></li>
</ul>
</li>
</ul>
</div>
<h2><span class="mw-headline" id="Comma_DevKit">Comma DevKit</span></h2>
<p>The EON Gold (and Comma two) is based on the <a class="external text" href="https://www.qualcomm.com/products/snapdragon-821-mobile-platform?cmpid=snfyus19642&amp;gclid=EAIaIQobChMI-oG8if364QIVFY_ICh0DFArXEAAYASAAEgKFL_D_BwE&amp;gclsrc=aw.ds" rel="nofollow noreferrer noopener" target="_blank">Qualcom Snapdragon 821 mobile platform</a>. Phones like LeEco LePro3 have been used to create the FrEON (the free EON). You can find some instructions <a class="external text" href="https://medium.com/@kirk_40929/getting-comma-openpilot-running-on-a-used-phone-c72d609cb4d3" rel="nofollow noreferrer noopener" target="_blank">here</a>. You would also need a Black Panda in order to have a kit similar to the Comma two or Comma three.
</p><p>If you choose to buy your <a class="external text" href="https://comma.ai/shop/products/two" rel="nofollow noreferrer noopener" target="_blank">Comma two</a> or <a class="external text" href="https://comma.ai/shop/products/three" rel="nofollow noreferrer noopener" target="_blank">Comma three</a> already made, you can do so from Comma.ai store for $999 USD and up, depending on version. Support for Comma two is supposed to end in summer of 2022.
</p><p>Also, keeping the phone screen off helps keeping the temperature low. I know, in the beginning one wants to see those lines matching the lines in the video, but after a while you stop paying attention to the screen. And if you have the IC integration all the data is on IC anyway. So turn that screen off and you will see the temperature drop about 15F.
</p>
<h2><span class="mw-headline" id="Installing_the_Comma_devkit">Installing the Comma devkit</span></h2>
<p>Comma devkit installation is pretty simple. Your main objective is to ensure the Comma devkit is level with the ground, and pointed as straight as you can get it. Also do make sure the camera on the left side of the devkit (which is used for driver monitoring) can see you well. If you're uncomfortable "eyeballing it," you may want to use:
</p>
<ul><li>A measuring tape</li>
<li>A roll of masking tape</li>
<li>A friend to help</li></ul>
<h3><span class="mw-headline" id="Tips">Tips</span></h3>
<ol><li>Before adhering any components, it is recommended that you clean the area with isopropyl alcohol to remove any oils or other contaminants from the surface. This is particularly important for the main comma mount. Contaminants may cause the adhesive hold to weaken, resulting in your device falling off your windshield.</li>
<li>When affixing the main comma mount to the windshield, try to prevent air from being trapped under the adhesive. This can be done by adhering one edge of the mount to the windshield first and "rolling" the rest of the mount onto the windshield.</li>
<li>Many people recommend leaving mount adhered to your windshield for 24-48 hours before attaching the device. It is also recommended that you keep the mount out of the sun for this "curing" time period. Attaching tape to the exterior of your windshield helps to provide shade while the adhesive sets if you can't keep it in the dark.</li>
<li>Avoid installing the mount on very cold days. The adhesive may not form a strong bond under cold temperatures. Additionally, the condensation from your breath on the windshield could prevent a strong bond from forming. If necessary, install with with window defrost on to warm up the window and prevent condensation.</li>
<li>Be sure to attach all cables firmly. This is one of the main installation errors. The automotive cables should all click when fully seated. The RJ45 (flat Ethernet cable) should also nicely click into both connections.</li>
<li>The USB-C connection should be pushed in with some force. Users with errors have frequently discovered that the USB-C connection on the back of the Comma devkit is a tight fit make sure the connector is fully inserted.</li></ol>
<h3><span class="mw-headline" id="Instructions">Instructions</span></h3>
<ol><li>Find a place at the bottom of the windshield, along the driver's side pillar that has a similar position on the passenger side (such as the place where the corner of the front hood meets the fender).</li>
<li>With the tape starting from that point, mark 3 places along the side of the windshield. Use the edge of the masking tape to mark them. I personally used 3" from the bottom, the top of the windshield and then about 1/3 from the bottom, 2/3 from the top. It does not matter what the measuring tape says, as long as it says the SAME distance on driver's and passenger's sides.</li>
<li>Repeat the process on the other side of the windshield, ensuring you mark the same spots.</li>
<li>measure the distance between one edge of the windshield and the other end, keeping the tape at each pair of marked points from before. use masking tape to mark the middle of the windshield. again, use the EDGE of the tape, not the center.</li>
<li>Now use a long piece of masking tape to mark the center of the windshield from top to bottom. This (if you did everything correctly) will cover all 3 of your markers from before and provide a straight line. One edge of the masking tape is now the perfect middle of the windshield. Your mount will have to be aligned with that for a perfect position.</li>
<li>Take a small piece of tape and mark the middle of the Comma mount. use a slightly longer piece than the mount (maybe 1/4-1/2" more on each side) and ensure it is straight and down the middle of the Comma mount. If, when looking from inside of the car, your tape is to the RIGHT of the center, then put the tape on the LEFT side of the mount. Reverse if the other way.</li>
<li>Using your Comma devkit without the mounting bracket, determine the location along the center of the windshield where you want it placed. Make sure the grove on the support is alongside the center of the windshield. use a small piece of masking tape to mark the upper part of the position where you want your Comma devkit to be.</li>
<li>Remove the RED protective tape from the back of the 3M adhesive and be ready to place the Comma mount on the windshield. Align the masking tape we placed on the Comma mount on the inside with the masking tape we have on the outside of the windshield. They should not overlap at all AND you should not see light either. when you are confident on the position press hard on the mount.</li>
<li>Remove all masking tape. You are done. You now have a perfectly centered, perfectly vertical Comma devkit.</li></ol>
<h3><span class="mw-headline" id="preAP_Model_S_only:_Hide_the_Thuderbolt3_cable_above_the_Headliner">preAP Model S only: Hide the Thuderbolt3 cable above the Headliner</span></h3>
<ol><li>Pull your Thunderbolt3 cable from the footwell gap (where the OBDII port with a Tinkla OBD-C Adapter is) up to where the "A" pillar is...</li>
<li>Follow the instructions to remove the air bag cover from the "A" pillar</li>
<li>Pull the cable up the height of the "A" pillar across to the mirror holding it close to the headliner.   Adjust the length to reach where you will place your Comma devkit.</li>
<li>Drape the Thuderbolt3 end over the rear view mirror.</li>
<li>Move to the corner where the headliner and the removed airbag panel intersect, this corner is the easiest place to stick a pry tool...   Using your pry tool lift the corner and move the pry-tool along the top of the windshield tucking the wire into the headliner as you go.  When you reach the mirror base, the Thuderbolt3 cable can be routed down the front of the windshield to emerge at the bottom of the mirror base closer to the center of the windshield.</li>
<li>Once the cabling is tucked in the headliner, move back to the "A" pillar and tuck the cable into the pillar cover routing it down towards the door seal, then secure the pillar cover to conceal the wiring.</li></ol>
<h2><span class="mw-headline" id="Installing_OpenPilot_for_Tesla">Installing OpenPilot for Tesla</span></h2>
<pre>Comma.ai doesn't fully support Tesla cars. That's why we maintain our own fork, which you will have to install into your Comma devkit.
</pre>
<pre><b><span style="color: red;font-size: 18pt;">DON’T INSTALL ON ANYTHING OTHER THAN A SUPPORTED TESLA!</span></b> <br/>(Someone bricked their Jeep trying.)
</pre>
<h3><span id="If_you_had_OpenPilot_for_Tesla_v0.6.6_(tesla_devel)_or_v0.7.4_(tesla_alpha)_installed"></span><span class="mw-headline" id="If_you_had_OpenPilot_for_Tesla_v0.6.6_.28tesla_devel.29_or_v0.7.4_.28tesla_alpha.29_installed">If you had OpenPilot for Tesla v0.6.6 (tesla_devel) or v0.7.4 (tesla_alpha) installed</span></h3>
<p>If you had OpenPilot for Tesla v0.6.6 (tesla_devel) or v0.7.4 (tesla_alpha) installed on your Comma two/EON Gold before, you HAVE to first update your device's firmware to the latest version before being able to use Tesla Unity.
</p><p>In order to do so, <a href="index_php/SSH_Into_Your_Device.html" title="SSH Into Your Device">you have to ssh into your device</a> and run following command
</p><p><code>bash &lt;(curl -s <a class="external free" href="files/nu/update.sh" rel="nofollow noreferrer noopener" target="_blank">https://tinkla.us/files/nu/update.sh</a>)</code>
</p>
<pre><b><span style="color: red;font-size: 18pt;">DON’T RUN THIS COMMAND ON AN OLD EON BASED ON One+ 3T AS IT WILL BRICK IT. THE OLD EON ONLY WORKS WITH THE OLD VERSION OF OPENPILOT FOR TESLA.</span></b> 
</pre>
<h3><span class="mw-headline" id="Installing_the_Tinkla_version_of_OpenPilot">Installing the Tinkla version of OpenPilot</span></h3>
<p>Follow these instructions for setting up a Comma devkit with Tinkla OpenPilot
</p>
<pre>If the devkit came with the official software preinstalled (did not start with "Getting Started"), or to remove the "Dashcam" software, follow the instructions in <a href="index_php/Comma_devkit.html">section Removing Dashcam Software</a>
</pre>
<ol><li>When your device boots up for the first time, you'll have the choice of either installing "Dashcam software" or "Custom Software (Advanced)." Let's go through this process to install OpenPilot instead of the Dashcam software (which does not pilot the car).</li>
<li>Ensure you're connected either to a Wifi hotspot, or that you can "Skip" the wifi hotspot selection (that means the SIM card is connected to a network).</li>
<li>Select "Custom Software (Advanced)."</li>
<li>Enter <a class="external free" href="https://op.tinkla.us" rel="nofollow noreferrer noopener" target="_blank">https://op.tinkla.us</a> and click "Install Software."</li>
<li>Your device will then download the software, show "Installing Tinkla Unity" on the screen, and install it. Note that when using the SIM card for this, you may need to retry once or twice depending on the quality of the connection. When using a wall charger at your desk, make sure it can output 2-3A (installation draws just a little above 1.0A)</li>
<li>Closely follow the training guide.</li>
<li><a href="index_php/Comma_devkit.html">Edit your Config</a> for your specific Tesla</li>
<li>Train (calibrate) the system on your car by manually driving faster than 15 mph (~ 25 km/h) for a few minutes. The screen will show what the camera sees after the training is complete.</li>
<li>You may now enable Tinkla Unity as per usual, and OpenPilot will take control after emitting a sound.</li></ol>
<h3><span class="mw-headline" id="Removing_Dashcam_Software">Removing Dashcam Software</span></h3>
<pre>If you selected the "Dashcam" software during setup you can uninstall with the following steps
</pre>
<ol><li>Click on the settings icon (the gear in the top left of the homescreen)</li>
<li>Click "Software" on the right (Version will say "xxxx vX.X.X, something different than Tinkla OP vX.X.X))</li>
<li>Scroll down to "Uninstall xxx"</li>
<li>If the option is grayed out or unavailable, shut off your car.</li>
<li>When prompted with a confirmation of uninstalling click, "Uninstall"</li>
<li>The device will reboot and uninstall the existing software.</li>
<li>Once finished it will return to the device's initial state. You can now install Tinkla Unity software through the setup.</li></ol>
<h3><span id="How_can_I_reset_my_Comma_devkit_to_factory_settings?"></span><span class="mw-headline" id="How_can_I_reset_my_Comma_devkit_to_factory_settings.3F">How can I reset my Comma devkit to factory settings?</span></h3>
<p>If something went wrong during the install process, do not despair. You can always reset the Comma devkit to factory settings by following these simple steps:
</p>
<ol><li>Press and holding Power and Volume Up until your devkit enters the Bootloader mode</li>
<li>Go to Factory Reset -&gt; Full Factory Reset</li>
<li>Confirm with Yes then use the power button to reboot the devkit. You should now be able to reinstall the software.</li></ol>
<h2><span class="mw-headline" id="Configuration_and_Firmware_Patches">Configuration and Firmware Patches</span></h2>
<h3><span class="mw-headline" id="Edit_your_Config">Edit your Config</span></h3>
<p>After the Comma devkit has booted you should go and <a href="index_php/Tesla_Unity_Configuration.html" title="Tesla Unity Configuration">edit the configuration settings</a> specific to our Tinkla Unity branch for Tesla.<br/>
</p>
<h3><span class="mw-headline" id="Flash_your_Panda">Flash your Panda</span></h3>
<pre>Since version 0.8.13-37, flashing of the panda code is done automatically every time there is a change in the code. If for any reason your devkit shows <b><span style="color: red;">car offline</span></b> while connected to your Tesla, and a reboot will not fix that, please follow the instructions below to flash both the bootloader and the code onto your panda.
</pre>
<p>In your Tesla while it says “Car Off” connect your Comma devkit to your car harness (either using the Tinkla OBD-C Adapter for preAP cars or the specific harness for your AP Tesla.
</p><p>Once the device fully boots up, go to Settings-&gt;Tinkla and scroll down to the bottom of the screen where  you will see a button called "Flash Panda"
</p><p>Once you hit the Flash Panda button, a new (white) screen will open up and at the bottom will will find the Flash button. Select Flash and then wait for the software to flash the Panda. Once complete you will be prompted to reboot the Comma devkit
</p>
<h3><span id="What_do_the_Panda_LED_colors_mean?_(on_the_back_of_the_devkit)"></span><span class="mw-headline" id="What_do_the_Panda_LED_colors_mean.3F_.28on_the_back_of_the_devkit.29">What do the Panda LED colors mean? (on the back of the devkit)</span></h3>
<ul><li>White: CAN send enabled</li>
<li>Red: This is your panda's heartbeat(power). It fades in and out</li>
<li>Green: Bad firmware or firmware flashing (only green, fast)</li>
<li>Blue (static): CAN detected</li>
<li>Blue (fades in and out): power saving</li></ul>
<h3><span class="mw-headline" id="preAP_only:_Patch_your_EPAS">preAP only: Patch your EPAS</span></h3>
<p>In your Tesla while it says “Car Off” connect your Comma devkit to your car harness (etiher using the Tinkla OBD-C Adapter for preAP cars or the specific harness for your AP Tesla.
</p><p>Once the device fully boots up, go to Settings-&gt;Tesla preAP and scroll down to the bottom of the screen where  you will see a button called "Flash EPAS"
</p><p>Once you hit the Flash EPAS button, a new (white) screen will open up and at the bottom will will find the Patch button. Press and hold the brake pedal so the car stays on. Note that during the process you might see some warning on the instrument cluster which will go away. Select Patch and then wait for the software to configure the EPAS. Once complete you will be prompted to reboot the Comma devkit. Also, at this point exit the car so that the car goes in Car Off mode. Once this happens your EPAS will be patched and ready to go.
</p>
<h2><span class="mw-headline" id="Almost_there">Almost there</span></h2>
<h3><span class="mw-headline" id="Final_steps">Final steps</span></h3>
<p>Finally, check here to learn more about all the controls, functions and features related to longitudinal control: <a href="index_php/Longitudinal_Control__ACC.html" title="Longitudinal Control: ACC">Using adaptive cruise control</a>
</p>
<h3><span class="mw-headline" id="First_OpenPilot_Drive">First OpenPilot Drive</span></h3>
<ol><li>Make sure the Comma devkit is mounted properly and connected to the Panda by following <a href="index_php/Comma_devkit.html">#Installing the Comma devkit</a></li>
<li>Turn your car on and verify that the left side indicator shows "Car Online". If not, your panda is not flashed, see flashing instructions here <a href="index_php/Panda.html" title="Panda">Panda Flashing</a>.</li>
<li>OpenPilot should switch to "drive mode" and show the camera view with white lane marking</li>
<li>Read up and understand the controls from <a href="index_php/Longitudinal_Control__ACC.html" title="Longitudinal Control: ACC">Using adaptive cruise control</a></li></ol>
<h3><span class="mw-headline" id="If_your_car_is_recognized">If your car is recognized</span></h3>
<ol><li>Calibration will increment at above 15mph. It will take less than 30 seconds to fully calibrate. If you move the mount, it's recommended to reset camera calibration under "device settings".</li>
<li>When driving, Pull the Cruise Control Stalk to use OpenPilot</li></ol>
<h3><span class="mw-headline" id="If_your_car_is_not_recognized">If your car is not recognized</span></h3>
<ol><li>If your Tesla is a preAP Model S, did you turn on the toggle for <b>Force PreAP Tesla Model S</b> in the <b>Tesla preAP</b> <a href="index_php/Comma_devkit.html">settings</a>?</li>
<li>Ask for help on the #tesla channel of the <a class="external text" href="https://discordapp.com/invite/Wyna3qy" rel="nofollow noreferrer noopener" target="_blank">Comma.ai Discord</a></li></ol>
<h3><span id="Experiencing_issues?"></span><span class="mw-headline" id="Experiencing_issues.3F">Experiencing issues?</span></h3>
<p>In case you use a <a href="index_php/Pedal_Interceptor.html" title="Pedal Interceptor">Pedal</a> and it just won't work, chances are it doesn't have Tesla firmware on it yet. You can flash it with <a href="index_php/Pedal_Interceptor.html" title="Pedal Interceptor">this guide</a>.
On any other issue, please use the search function or ask us on <a class="external text" href="https://discordapp.com/invite/Wyna3qy" rel="nofollow noreferrer noopener" target="_blank">Discord</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20250430194657
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.017 seconds
Real time usage: 0.885 seconds
Preprocessor visited node count: 87/1000000
Preprocessor generated node count: 96/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key my_wiki-tesla_:pcache:idhash:195-0!canonical and timestamp 20250430194656 and revision id 1392
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php">https://tinkla.us/index.php?title=Comma_devkit&amp;oldid=1392</a>"</div>
<div class="visualClear"></div></div></div></div><div id="content-bottom-stuff"><div class="catlinks catlinks-allhidden" data-mw="interface" id="catlinks"></div></div></div><div id="mw-site-navigation"><div class="mw-portlet" id="p-logo" role="banner"><a class="mw-wiki-logo" href="index_php/Main_Page.html" title="Visit the main page"></a></div><div class="sidebar-chunk" id="site-navigation"><h2><span>Navigation</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-Navigation-label" class="mw-portlet" id="p-Navigation" role="navigation"><h3 dir="ltr" id="p-Navigation-label" lang="en">Navigation</h3><div class="mw-portlet-body"><ul><li id="n-Tinkla-Main-Page"><a href="t/index.php" rel="nofollow" target="_blank"><span>Tinkla Main Page</span></a></li><li id="n-Tinkla-Wiki-Main-Page"><a href="index_php/Main_Page.html"><span>Tinkla Wiki Main Page</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_Unity-label" class="mw-portlet" id="p-Tesla_Unity" role="navigation"><h3 dir="ltr" id="p-Tesla_Unity-label" lang="en">Tesla Unity</h3><div class="mw-portlet-body"><ul><li id="n-Overview"><a href="index_php/Comma_devkit.html"><span>Overview</span></a></li><li id="n-Installing"><a href="index_php/Comma_devkit.html"><span>Installing</span></a></li><li id="n-Config"><a href="index_php/Tesla_Unity_Configuration.html"><span>Config</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_OP_for_EON-label" class="mw-portlet" id="p-Tesla_OP_for_EON" role="navigation"><h3 dir="ltr" id="p-Tesla_OP_for_EON-label" lang="en">Tesla OP for EON</h3><div class="mw-portlet-body"><ul><li id="n-Overview"><a href="index_php/EON.html"><span>Overview</span></a></li><li id="n-Installing"><a href="index_php/EON.html"><span>Installing</span></a></li><li id="n-Config"><a href="index_php/OpenPilot_Configuration_File.html"><span>Config</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_Cars-label" class="mw-portlet" id="p-Tesla_Cars" role="navigation"><h3 dir="ltr" id="p-Tesla_Cars-label" lang="en">Tesla Cars</h3><div class="mw-portlet-body"><ul><li id="n-preAP"><a href="index_php/OpenPilot_for_preAP_Tesla_ModelS.html"><span>preAP</span></a></li><li id="n-AP1"><a href="index_php/OpenPilot_for_Tesla_Model_S/X_with_AP1.html"><span>AP1</span></a></li><li id="n-AP2"><a href="index_php/OpenPilot_for_Tesla_Model_S/X_with_AP2.html"><span>AP2</span></a></li></ul></div></div><div aria-labelledby="p-Integration-label" class="mw-portlet" id="p-Integration" role="navigation"><h3 dir="ltr" id="p-Integration-label" lang="en">Integration</h3><div class="mw-portlet-body"><ul><li id="n-preAP-IC-Integration"><a href="index_php/PreAP__IC_Integration_with_OP.html"><span>preAP IC Integration</span></a></li></ul></div></div><div aria-labelledby="p-Components-label" class="mw-portlet" id="p-Components" role="navigation"><h3 dir="ltr" id="p-Components-label" lang="en">Components</h3><div class="mw-portlet-body"><ul><li id="n-Comma-devkit"><a href="index_php/Comma_devkit.html"><span>Comma devkit</span></a></li><li id="n-EON-.28deprecated.29"><a href="index_php/EON.html"><span>EON (deprecated)</span></a></li></ul></div></div><div aria-labelledby="p-preAP_Components-label" class="mw-portlet" id="p-preAP_Components" role="navigation"><h3 dir="ltr" id="p-preAP_Components-label" lang="en">preAP Components</h3><div class="mw-portlet-body"><ul><li id="n-Tinkla-OBD-C"><a href="index_php/Tinkla_OBD-C_Adapter.html"><span>Tinkla OBD-C</span></a></li><li id="n-Tesla-Radar"><a href="index_php/Tesla_Bosch_Radar.html"><span>Tesla Radar</span></a></li><li id="n-Pedal-Interceptor"><a href="index_php/Pedal_Interceptor.html"><span>Pedal Interceptor</span></a></li><li id="n-Tinkla-Buddy"><a href="index_php/Tinkla_Buddy.html"><span>Tinkla Buddy</span></a></li></ul></div></div><div aria-labelledby="p-AP_Components-label" class="mw-portlet" id="p-AP_Components" role="navigation"><h3 dir="ltr" id="p-AP_Components-label" lang="en">AP Components</h3><div class="mw-portlet-body"><ul><li id="n-AP1-Harness"><a href="index_php/AP1_Harness.html"><span>AP1 Harness</span></a></li><li id="n-AP2-Harness"><a href="index_php/AP2_Harness.html"><span>AP2 Harness</span></a></li><li id="n-Tinkla-Relay"><a href="index_php/Tinkla_Relay.html"><span>Tinkla Relay</span></a></li></ul></div></div><div aria-labelledby="p-Older_Components-label" class="mw-portlet" id="p-Older_Components" role="navigation"><h3 dir="ltr" id="p-Older_Components-label" lang="en">Older Components</h3><div class="mw-portlet-body"><ul><li id="n-Panda"><a href="index_php/Panda.html"><span>Panda</span></a></li><li id="n-Tesla-Giraffe"><a href="index_php/Tesla_Giraffe.html"><span>Tesla Giraffe</span></a></li><li id="n-EPAS-Harness"><a href="index_php/EPAS_harness.html"><span>EPAS Harness</span></a></li><li id="n-OP-Configuration-File"><a href="index_php/OpenPilot_Configuration_File.html"><span>OP Configuration File</span></a></li></ul></div></div><div aria-labelledby="p-Reference-label" class="mw-portlet" id="p-Reference" role="navigation"><h3 dir="ltr" id="p-Reference-label" lang="en">Reference</h3><div class="mw-portlet-body"><ul><li id="n-Disclaimer-and-Licensing"><a href="index_php/Tinkla_General_disclaimer.html"><span>Disclaimer and Licensing</span></a></li><li id="n-AWG-Chart"><a href="index_php/AWG_chart.html"><span>AWG Chart</span></a></li></ul></div></div><div aria-labelledby="p-Other-label" class="mw-portlet" id="p-Other" role="navigation"><h3 dir="ltr" id="p-Other-label" lang="en">Other</h3><div class="mw-portlet-body"><ul><li id="n-Comma.ai"><a href="https://comma.ai" rel="nofollow" target="_blank"><span>Comma.ai</span></a></li><li id="n-GitHub-Repo"><a href="https://github.com/BogGyver/openpilot" rel="nofollow" target="_blank"><span>GitHub Repo</span></a></li></ul></div></div></div></div><div class="sidebar-chunk" id="site-tools"><h2><span>Wiki tools</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-tb-label" class="mw-portlet" id="p-tb" role="navigation"><h3 dir="ltr" id="p-tb-label" lang="en">Wiki tools</h3><div class="mw-portlet-body"><ul><li id="t-specialpages"><a accesskey="q" href="index_php/Special_SpecialPages.html" title="A list of all special pages [q]"><span>Special pages</span></a></li><li id="t-cite"><a href="index.php" title="Information on how to cite this page"><span>Cite this page</span></a></li></ul></div></div></div></div></div><div id="mw-related-navigation"><div class="sidebar-chunk" id="page-tools"><h2><span>Page tools</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-cactions-label" class="mw-portlet" id="p-cactions" role="navigation"><h3 dir="ltr" id="p-cactions-label" lang="en">Page tools</h3><div class="mw-portlet-body"><ul><li id="ca-myact"><a href="index.php"><span>My action</span></a></li></ul></div></div><div aria-labelledby="p-userpagetools-label" class="mw-portlet emptyPortlet" id="p-userpagetools" role="navigation"><h3 dir="ltr" id="p-userpagetools-label" lang="en">Userpage tools</h3><div class="mw-portlet-body"><ul></ul></div></div><div aria-labelledby="p-pagemisc-label" class="mw-portlet" id="p-pagemisc" role="navigation"><h3 dir="ltr" id="p-pagemisc-label" lang="en">More</h3><div class="mw-portlet-body"><ul><li id="t-whatlinkshere"><a accesskey="j" href="index_php/Special_WhatLinksHere/Comma_devkit.html" title="A list of all wiki pages that link here [j]"><span>What links here</span></a></li><li id="t-recentchangeslinked"><a accesskey="k" href="/index.php/Special:RecentChangesLinked/Comma_devkit" rel="nofollow" title="Recent changes in pages linked from this page [k]"><span>Related changes</span></a></li><li id="t-print"><a accesskey="p" href="index.php" rel="alternate" title="Printable version of this page [p]"><span>Printable version</span></a></li><li id="t-permalink"><a href="index.php" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info"><a href="index.php" title="More information about this page"><span>Page information</span></a></li><li id="t-pagelog"><a href="index_php/Special_Log/Comma_devkit.html"><span>Page logs</span></a></li></ul></div></div></div></div></div><div class="visualClear"></div></div></div><div class="ts-container" id="mw-footer-container"><div class="ts-inner" id="mw-footer"><div dir="ltr" id="footer-bottom" lang="en" role="contentinfo"><div class="footer-icons" id="f-poweredbyico"><a href="//www.mediawiki.org/" target="_blank"><img alt="Powered by MediaWiki" height="31" src="resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88"/></a></div><ul class="footer-places" id="f-list"><li id="lastmod"> This page was last edited on 1 April 2022, at 18:20.</li><li id="privacy"><a href="/index.php/Tinkla:Privacy_policy" title="Tinkla:Privacy policy">Privacy policy</a></li><li id="about"><a href="/index.php/Tinkla:About" title="Tinkla:About">About Tinkla: Tinkering with Tesla</a></li><li id="disclaimer"><a href="index_php/Tinkla_General_disclaimer.html" title="Tinkla:General disclaimer">Disclaimers</a></li></ul><div class="visualClear"></div></div></div></div></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.017","walltime":"0.885","ppvisitednodes":{"value":87,"limit":1000000},"ppgeneratednodes":{"value":96,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20250430194657","ttl":86400,"transientcontent":false}}});});</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-141390218-1', 'auto');
  ga('send', 'pageview');

</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":4766});});</script></body></html>