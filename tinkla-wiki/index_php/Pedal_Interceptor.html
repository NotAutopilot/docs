<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>Pedal Interceptor - Tinkla: Tinkering with Tesla</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Pedal_Interceptor","wgTitle":"Pedal Interceptor","wgCurRevisionId":1502,"wgRevisionId":1502,"wgArticleId":4,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Pedal_Interceptor","wgRelevantArticleId":4,"wgRequestId":"67aa07352649b79d29e457e2","wgCSPNonce":false,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.content.externallinks":"ready","skins.timeless":"ready","skins.timeless.misc":"ready"});mw.loader.implement("user.tokens@0tffind",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.user","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","mmv.head","mmv.bootstrap.autostart","skins.timeless.js","skins.timeless.mobile"];mw.loader.load(RLPAGEMODULES);});</script>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.toc.styles%7Cskins.timeless%7Cskins.timeless.misc&amp;only=styles&amp;skin=timeless" rel="stylesheet"/>
<script async="" src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=timeless"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=timeless" rel="stylesheet"/>
<meta content="MediaWiki 1.32.1" name="generator"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0" name="viewport"/>
<link href="/favicon.ico" rel="shortcut icon"/>
<link href="/opensearch_desc.php" rel="search" title="Tinkla: Tinkering with Tesla (en)" type="application/opensearchdescription+xml"/>
<link href="https://tinkla.us/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="Tinkla: Tinkering with Tesla Atom feed" type="application/atom+xml"/>
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=Timeless&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pedal_Interceptor rootpage-Pedal_Interceptor skin-timeless action-view"><div id="mw-wrapper"><div class="ts-container" id="mw-header-container"><div class="ts-inner" id="mw-header"><div id="user-tools"><div id="personal"><h2><span>Anonymous</span><div class="pokey"></div></h2><div class="dropdown" id="personal-inner"><div aria-labelledby="p-personal-label" class="mw-portlet" id="p-personal" role="navigation"><h3 dir="ltr" id="p-personal-label" lang="en">Not logged in</h3><div class="mw-portlet-body"><ul><li id="pt-createaccount"><a href="index.php" title="You are encouraged to create an account and log in; however, it is not mandatory"><span>Create account</span></a></li><li id="pt-login"><a accesskey="o" href="index.php" title="You are encouraged to log in; however, it is not mandatory [o]"><span>Log in</span></a></li></ul></div></div></div></div></div><div class="mw-portlet" id="p-logo-text" role="banner"><a class="mw-wiki-title long" href="index_php/Main_Page.html" id="p-banner">Tinkla: Tinkering with Tesla</a></div><div class="mw-portlet" id="p-search"><h3 dir="ltr" lang="en"><label for="searchInput">Search</label></h3><form action="/index.php" id="searchform"><div id="simpleSearch"><div id="searchInput-container"><input accesskey="f" id="searchInput" name="search" placeholder="Search Tinkla: Tinkering with Tesla" title="Search Tinkla: Tinkering with Tesla [f]" type="search"/></div><input name="title" type="hidden" value="Special:Search"/><input class="searchButton mw-fallbackSearchButton" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" value="Search"/><input class="searchButton" id="searchButton" name="go" title="Go to a page with this exact name if it exists" type="submit" value="Go"/></div></form></div></div><div class="visualClear"></div></div><div class="color-bar" id="mw-header-hack"><div class="color-middle-container"><div class="color-middle"></div></div><div class="color-left"></div><div class="color-right"></div></div><div id="mw-header-nav-hack"><div class="color-bar"><div class="color-middle-container"><div class="color-middle"></div></div><div class="color-left"></div><div class="color-right"></div></div></div><div id="menus-cover"></div><div class="ts-container" id="mw-content-container"><div class="ts-inner" id="mw-content-block"><div id="mw-content-wrapper"><div id="mw-content"><div class="mw-body" id="content" role="main"><div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading" id="firstHeading">Pedal Interceptor</h1><div id="siteSub">From Tinkla: Tinkering with Tesla</div><div id="mw-page-header-links"><div aria-labelledby="p-namespaces-label" class="mw-portlet" id="p-namespaces" role="navigation"><h3 dir="ltr" id="p-namespaces-label" lang="en">Namespaces</h3><div class="mw-portlet-body"><ul><li class="selected" id="ca-nstab-main"><a accesskey="c" href="index_php/Pedal_Interceptor.html" title="View the content page [c]"><span>Page</span></a></li><li class="new" id="ca-talk"><a accesskey="t" href="/index.php?title=Talk:Pedal_Interceptor&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]"><span>Discussion</span></a></li></ul></div></div><div aria-labelledby="p-more-label" class="mw-portlet" id="p-more" role="navigation"><h3 dir="ltr" id="p-more-label" lang="en">More</h3><div class="mw-portlet-body"><ul><li class="dropdown-toggle" id="ca-more"><span>More</span></li></ul></div></div><div aria-labelledby="p-views-label" class="mw-portlet" id="p-views" role="navigation"><h3 dir="ltr" id="p-views-label" lang="en">Page actions</h3><div class="mw-portlet-body"><ul><li class="selected" id="ca-view"><a href="index_php/Pedal_Interceptor.html" redundant="1"><span>View</span></a></li><li id="ca-viewsource"><a accesskey="e" href="index.php" title="This page is protected.
You can view its source [e]"><span>View source</span></a></li><li id="ca-history"><a accesskey="h" href="index.php" title="Past revisions of this page [h]"><span>History</span></a></li><li id="ca-myact"><a href="index.php"><span>My action</span></a></li></ul></div></div></div><div class="visualClear"></div><div class="mw-body-content" id="bodyContent"><div id="contentSub"></div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><pre>This page is describing the usage of the Tesla Pedal Interceptor with Tesla Unity. If you are looking to use the Pedal Interceptor with the older version of Tesla OP that works on EON, please look at the <a href="index_php/Pedal_Interceptor_EON.html" title="Pedal Interceptor EON">Pedal Interceptor for EON</a> page.
</pre>
<p>The Comma Pedal is used to provide advanced acceleration and regen braking capability on Tesla cars running Openpilot that do not have iBooster installed.
</p>
<pre>Without electric brakes (iBooster) the car only uses regenerative braking. This is not enough for sudden slowdowns. YOU MUST BE READY TO MANUALLY BRAKE AT ANY MOMENT.
</pre>
<div class="floatright"><a class="image" href="index_php/File_Pedal.jpg"><img alt="Pedal.jpg" class="thumbborder" data-file-height="2000" data-file-width="1809" height="332" src="images/thumb/0/06/Pedal_jpg/300px-Pedal.jpg" srcset="/images/thumb/0/06/Pedal.jpg/450px-Pedal.jpg 1.5x, /images/thumb/0/06/Pedal.jpg/600px-Pedal.jpg 2x" width="300"/></a></div>
<div class="toc" id="toc"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">1</span> <span class="toctext">What it Does</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">2</span> <span class="toctext">Obtaining a Comma Pedal</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">3</span> <span class="toctext">Wiring a Tesla Pedal</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">4</span> <span class="toctext">Connecting the Pedal for Tinkla Unity</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">5</span> <span class="toctext">Installing the Tesla Pedal</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">6</span> <span class="toctext">Flashing the firmware for Tesla Pedal with Tesla Unity code</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">6.1</span> <span class="toctext">Flashing via CAN</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">6.2</span> <span class="toctext">Flashing via USB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="index_php/Pedal_Interceptor.html"><span class="tocnumber">7</span> <span class="toctext">Using the Tesla Pedal</span></a></li>
</ul>
</div>
<h3><span class="mw-headline" id="What_it_Does">What it Does</span></h3>
<p>The Comma Pedal is an accelerator pedal interceptor. It is a device that is inserted between a car's electronic accelerator pedal and the DU (Drive Unit). It detects the voltage from the accelerator pedal which represents the pedal's position. It then writes that same voltage back out to the DU as if the accelerator pedal had produced it.
</p><p>The Comma Pedal has 4 main systems:
</p>
<ol><li>2 Analog to Digital Convertors
<ul><li>This is used to read the voltage from the car's accelerator pedal into the Comma Pedal's processor. The accelerator pedal produces an output Voltage between 0 and 5 Volts.</li></ul></li>
<li>2 Digital to Analog Convertors
<ul><li>This is used to send voltage back to the car's DU as if the accelerator pedal had produced it.</li></ul></li>
<li>1 CAN Bus
<ul><li>The CAN Bus is the car's communication network. The Comma Pedal communicates with Openpilot using the CAN Bus. It connects to the Tinkla OBD-C Adapter.</li></ul></li>
<li>1 USB
<ul><li>This is used to program and monitor the Comma Pedal, itself.</li></ul></li></ol>
<p>When Openpilot is NOT engaged, the Comma Pedal reads the voltage from the accelerator pedal and just passes it along to the DU. 
</p><p>When Openpilot IS engaged with <a href="index_php/Longitudinal_Control__ACC.html" title="Longitudinal Control: ACC">longitudinal control</a>, it gets the virtual accelerator pedal position from Openpilot and passes it on to the DU.
</p><p>The Comma Pedal is also constantly sending the physical accelerator pedal's position to the CAN bus for Openpilot to read. This way you can increase speed temporarily without having to adjust max speed or disengage longitudinal control.
</p>
<h3><span class="mw-headline" id="Obtaining_a_Comma_Pedal">Obtaining a Comma Pedal</span></h3>
<p>You cannot buy a pre-built Comma Pedal from Comma. Fortunately we have a solution for you that only requires you to strip some wires and secure them with a screwdriver:
</p>
<ul><li>you can find the Tinkla Pedal Interceptor <a class="external text" href="https://shop.tinkla.us/Tinkla-Pedal-p487274387" rel="nofollow noreferrer noopener" target="_blank">here in the Tinkla Store</a></li>
<li>you can find the connectors (limited quantity) <a class="external text" href="https://shop.tinkla.us/Tesla-Pedal-Connectors-pair-p459771917" rel="nofollow noreferrer noopener" target="_blank">here in the Tinkla Store</a></li></ul>
<p>You could also <a class="external text" href="https://github.com/commaai/neo/tree/master/pedal" rel="nofollow noreferrer noopener" target="_blank">build it yourself</a> (not recommended) or have one <a class="external text" href="https://medium.com/@joshuairl/comma-pedal-building-with-macrofab-6328bea791e8" rel="nofollow noreferrer noopener" target="_blank">fabricated through a service like Macrofab</a>.
</p>
<h3><span class="mw-headline" id="Wiring_a_Tesla_Pedal">Wiring a Tesla Pedal</span></h3>
<div class="floatright"><a class="image" href="index_php/File_Wired_Tinkla_Pedal.png"><img alt="Wired Tinkla Pedal.png" class="thumbborder" data-file-height="1333" data-file-width="1000" height="400" src="images/thumb/f/f3/Wired_Tinkla_Pedal_png/300px-Wired_Tinkla_Pedal.png" srcset="/images/thumb/f/f3/Wired_Tinkla_Pedal.png/450px-Wired_Tinkla_Pedal.png 1.5x, /images/thumb/f/f3/Wired_Tinkla_Pedal.png/600px-Wired_Tinkla_Pedal.png 2x" width="300"/></a></div>
<div class="floatright"><a class="image" href="index_php/File_Tinkla_Pedal_Interceptor_Back.png"><img alt="Tinkla Pedal Interceptor Back.png" class="thumbborder" data-file-height="1302" data-file-width="1000" height="391" src="images/thumb/f/f0/Tinkla_Pedal_Interceptor_Back_png/300px-Tinkla_Pedal_Interceptor_Back.png" srcset="/images/thumb/f/f0/Tinkla_Pedal_Interceptor_Back.png/450px-Tinkla_Pedal_Interceptor_Back.png 1.5x, /images/thumb/f/f0/Tinkla_Pedal_Interceptor_Back.png/600px-Tinkla_Pedal_Interceptor_Back.png 2x" width="300"/></a></div>
<p>If you purchased a Tinkla Pedal Interceptor together with the Tesla Pedal Connectors from our online store, you are in for a treat. Attaching the connectors to the pedal board is as easy as strip-twist-screw. 
The color codes for the Tesla Pedal Connectors wires are as follow:
</p>
<ul><li>Red - 5V</li>
<li>Black - GND</li>
<li>Yellow - Sensor 1</li>
<li>Blue - Sensor 2</li></ul>
<p>The above image shows the correct connections between the connectors and the Tinkla Pedal Interceptor board.
</p><p>In order to create your Tesla Pedal you need:
</p>
<ul><li>1x Comma Pedal board (for sources see above section)</li>
<li>1x <a class="external text" href="https://www.amazon.com/LeMotech-Plastic-Electrical-Junction-72x42x23mm/dp/B07F3Y8L95/" rel="nofollow noreferrer noopener" target="_blank">box to hold the board</a> if your Pedal doesn't already have a case (current ones ship with 3D printed cases). You will need to cut some <a href="index_php/File_Pedal_in_box.png" title="File:Pedal in box.png">small openings</a> on the sides (and in front of the RJ45) if you use this one.</li>
<li>1x set of "WPT-929" connectors (actually <a class="external text" href="https://www.molex.com/molex/products/datasheet.jsp?part=active/0314026110_CRIMP_HOUSINGS.xml" rel="nofollow noreferrer noopener" target="_blank">Molex</a>) - <a class="external text" href="https://www.amazon.com/dp/B07GZY4ST4" rel="nofollow noreferrer noopener" target="_blank">fast shipping</a>, <a class="external text" href="https://de.aliexpress.com/item/32778798102.html" rel="nofollow noreferrer noopener" target="_blank">slow shipping</a></li>
<li>~3ft of wire for the connectors in case your Pedal and connectors don't come with them (~AWG24)</li>
<li>1x SN-28B crimping tool (same one as used for EPAS cable - <a class="external text" href="https://www.amazon.com/Wovier-Compression-Ratcheting-0-1-1-0mm2-Wire-electrode/dp/B01CE4FAMW" rel="nofollow noreferrer noopener" target="_blank">fast shipping</a>, <a class="external text" href="https://www.aliexpress.com/item/32843027501.html" rel="nofollow noreferrer noopener" target="_blank">slow shipping</a>)</li>
<li>1x ethernet cable ~2ft (not crossover)</li></ul>
<p><br/>
Use the diagram to connect the female WPT-929 pedal connector to the IN side of the pedal board and the male WSP-929 connector to the OUT side of the pedal connector.
</p>
<div class="floatright"><a class="image" href="index_php/File_Tesla_pedal_wiring.png"><img alt="Tesla pedal wiring.png" class="thumbborder" data-file-height="790" data-file-width="1402" height="186" src="images/thumb/3/3a/Tesla_pedal_wiring_png/330px-Tesla_pedal_wiring.png" srcset="/images/thumb/3/3a/Tesla_pedal_wiring.png/495px-Tesla_pedal_wiring.png 1.5x, /images/thumb/3/3a/Tesla_pedal_wiring.png/660px-Tesla_pedal_wiring.png 2x" width="330"/></a></div>
<div class="floatleft"><a class="image" href="index_php/File_Pedal_connector.png"><img alt="Pedal connector.png" data-file-height="218" data-file-width="302" height="144" src="images/thumb/f/ff/Pedal_connector_png/200px-Pedal_connector.png" srcset="/images/thumb/f/ff/Pedal_connector.png/300px-Pedal_connector.png 1.5x, /images/f/ff/Pedal_connector.png 2x" width="200"/></a></div><p><a class="image" href="index_php/File_Pedal_pinout.png"><img alt="Pedal pinout.png" data-file-height="276" data-file-width="755" height="146" src="images/thumb/3/35/Pedal_pinout_png/400px-Pedal_pinout.png" srcset="/images/thumb/3/35/Pedal_pinout.png/600px-Pedal_pinout.png 1.5x, /images/3/35/Pedal_pinout.png 2x" width="400"/></a>
</p><h3><span class="mw-headline" id="Connecting_the_Pedal_for_Tinkla_Unity">Connecting the Pedal for Tinkla Unity</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="index_php/File_Tinkla_OBD-C_Adapter_RJ45.jpg"><img alt="Tinkla OBD-C Adapter RJ45.jpg" class="thumbimage" data-file-height="1243" data-file-width="1392" height="268" src="images/thumb/a/ab/Tinkla_OBD-C_Adapter_RJ45_jpg/300px-Tinkla_OBD-C_Adapter_RJ45.jpg" srcset="/images/thumb/a/ab/Tinkla_OBD-C_Adapter_RJ45.jpg/450px-Tinkla_OBD-C_Adapter_RJ45.jpg 1.5x, /images/thumb/a/ab/Tinkla_OBD-C_Adapter_RJ45.jpg/600px-Tinkla_OBD-C_Adapter_RJ45.jpg 2x" width="300"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="index_php/File_Tinkla_OBD-C_Adapter_RJ45.jpg" title="Enlarge"></a></div></div></div></div>
<p>Connecting the CAN BUS from the Pedal to the <a class="external text" href="t/tinkla_obdc.html" rel="nofollow noreferrer noopener" target="_blank">Tinkla OBD-C Adapter</a> is done via the RJ45 port using a standard ethernet cable.
</p><p>Plug in the ethernet cable into the RJ45 port of the Pedal and the other end into the RJ45 port of the Tinkla OBD-C Adapter.
</p>
<h3><span class="mw-headline" id="Installing_the_Tesla_Pedal">Installing the Tesla Pedal</span></h3>
<p>To install the Pedal, there are two steps:
</p>
<ol><li>connecting the board to the accelerator pedal</li>
<li>connecting the board to the <a class="external text" href="t/tinkla_obdc.html" rel="nofollow noreferrer noopener" target="_blank">Tinkla OBD-C Adapter</a></li></ol>
<div class="floatright"><a class="image" href="index_php/File_Pedal_connected.jpg"><img alt="Pedal connected.jpg" data-file-height="993" data-file-width="2000" height="149" src="images/thumb/5/58/Pedal_connected_jpg/300px-Pedal_connected.jpg" srcset="/images/thumb/5/58/Pedal_connected.jpg/450px-Pedal_connected.jpg 1.5x, /images/thumb/5/58/Pedal_connected.jpg/600px-Pedal_connected.jpg 2x" width="300"/></a></div><div class="floatright"><a class="image" href="index_php/File_Pedal_installed.jpg"><img alt="Pedal installed.jpg" data-file-height="941" data-file-width="2000" height="141" src="images/thumb/f/f6/Pedal_installed_jpg/300px-Pedal_installed.jpg" srcset="/images/thumb/f/f6/Pedal_installed.jpg/450px-Pedal_installed.jpg 1.5x, /images/thumb/f/f6/Pedal_installed.jpg/600px-Pedal_installed.jpg 2x" width="300"/></a></div>
<p>This <a class="external text" href="https://www.youtube.com/watch?v=UiQved6gt2U" rel="nofollow noreferrer noopener" target="_blank">video</a> for a similar product shows you what you have to do in order to install the Pedal interceptor between the accelerator pedal and the car's existing connector. Take your time and watch the video first. The process is not complicated if you just follow it step by step.
</p><p>Once that is complete, connect your ethernet cable to the Pedal and the other end to the RJ45 port on the <a class="external text" href="t/tinkla_obdc.html" rel="nofollow noreferrer noopener" target="_blank">Tinkla OBD-C Adapter</a>.
</p>
<h3><span class="mw-headline" id="Flashing_the_firmware_for_Tesla_Pedal_with_Tesla_Unity_code">Flashing the firmware for Tesla Pedal with Tesla Unity code</span></h3>
<h5><span class="mw-headline" id="Flashing_via_CAN">Flashing via CAN</span></h5>
<p>With the introduction of Tesla Unity code, flashing the Tesla Pedal with the latest firmware is as easy as pressing a button in the Tesla preAP settings page. To flash the latest firmware to your Tesla Pedal:
</p>
<ol><li>Ensure your Pedal is installed in your vehicle and connected to the <a class="external text" href="t/tinkla_obdc.html" rel="nofollow noreferrer noopener" target="_blank">Tinkla OBD-C Adapter</a> or to your specific harness.</li>
<li>Ensure that all the <a href="index_php/Tesla_Unity_Configuration.html" title="Tesla Unity Configuration">settings are configured</a> correctly for your pedal, especially enabling the pedal and setting up which CAN port it is connected to.</li>
<li>Using the <b>Flash Pedal</b> button under the <b>Tesla preAP</b> tab of <a href="index_php/Tesla_Unity_Configuration.html" title="Tesla Unity Configuration">settings</a> start the firmware flashing process</li>
<li>Before hitting the <b>Flash</b> button, ensure your car is on (in P - Park) and continue to keep your foot on the brake throughout the process.</li>
<li>Hit the <b>Flash</b> button and the screen will show the progress. Your car might emit warnings and sounds during this process, which is normal.</li>
<li>Once process is complete, allow the car to go in "CAR OFF" mode and reboot your Comma devkit.</li>
<li>You are now ready to use your Tesla Pedal Interceptor.</li></ol>
<h5><span class="mw-headline" id="Flashing_via_USB">Flashing via USB</span></h5>
<p><b>Flashing via USB involves more steps and is only necessary if flashing via CAN is not possible.</b>
</p><p>If you built your Pedal yourself or it was shipped without any firmware, it will boot in DFU mode. To know which mode you're in look at the LED on the Pedal board: no light = DFU mode, slow blink = normal flash mode, fast blink = normal operations.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="index_php/File_Entering_Pedal_Interceptor_DFU_Mode__image_by__jfrux_.png"><img alt="" class="thumbimage" data-file-height="816" data-file-width="1400" height="175" src="images/thumb/3/3f/Entering_Pedal_Interceptor_DFU_Mode__image_by__jfrux__png/300px-Entering_Pedal_Interceptor_DFU_Mode__image_by__jfrux_.png" srcset="/images/thumb/3/3f/Entering_Pedal_Interceptor_DFU_Mode_%28image_by_%40jfrux%29.png/450px-Entering_Pedal_Interceptor_DFU_Mode_%28image_by_%40jfrux%29.png 1.5x, /images/thumb/3/3f/Entering_Pedal_Interceptor_DFU_Mode_%28image_by_%40jfrux%29.png/600px-Entering_Pedal_Interceptor_DFU_Mode_%28image_by_%40jfrux%29.png 2x" width="300"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="index_php/File_Entering_Pedal_Interceptor_DFU_Mode__image_by__jfrux_.png" title="Enlarge"></a></div>Entering Pedal Interceptor DFU Mode (image by @jfrux)</div></div></div>
<p>To enter DFU mode, you will need a <a class="external text" href="https://www.amazon.com/dp/B09FDJFJ6Z/ref=cm_sw_em_r_mt_dp_QFSM3ZZ87K5WTECKYD12?_encoding=UTF8&amp;psc=1" rel="nofollow noreferrer noopener" target="_blank">USB-A to USB-A cable</a> and to remove the Pedal Interceptor from your car. Connect one end of the USB cable to the pedal interceptor, then jump the small pin indicated in the attached image to one of the pins labeled 5V with a small wire. While holding that jump wire, connect the Pedal Interceptor to your computer via USB. This usually takes two people, one to do the jump and one to plug the USB into the laptop. Always have the USB plugged into the Pedal first, then laptop (it makes your life a lot easier). For how to put the pedal interceptor in the DFU mode, follow the instructions for <a class="external text" href="https://medium.com/@jfrux/flashing-the-comma-pedal-with-ubuntu-a83fb668f6e2#fcdf" rel="nofollow noreferrer noopener" target="_blank">applying 5 Volt to a special point on the board</a>.
</p><p>While in DFU mode, and connected to your computer running MacOS or Linux, you can flash your pedal using the same Unity code from your computer.<br/>
</p><p>To do so you will need a local copy of the Unity code and to run few commands. Please see the sequence below that you have to run in a terminal window on your laptop.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> ~
rm -rf openpilot
git clone https://github.com/boggyver/openpilot.git --depth <span class="m">1</span> -b tesla_unity_releaseC2
<span class="nb">cd</span> openpilot/panda/board/pedal
./recover.sh
</pre></div>
<p>Sometimes you have to issue the command multiple times until it completes successfully. With the updated bootloader you'll be able to flash future updates via CAN.
</p><p>Once done, unplug USB from the Pedal and install in car.
</p>
<h3><span class="mw-headline" id="Using_the_Tesla_Pedal">Using the Tesla Pedal</span></h3>
<pre>Without electric brakes (iBooster) the car only uses regenerative braking. This is not enough for suddent slowdowns. YOU MUST BE READY TO MANUALLY BRAKE AT ANY MOMENT.
</pre>
<p>Out of the box, OP will use the Tesla CC (with stalk spamming) to control CC. This in our OP implementation is called Adaptive Cruise Control or ACC. CC on Tesla only works above 18 MPH (29 km/h).
</p><p>If you turn off the Tesla CC by pressing on the CC stalk, OP will switch to Tesla Pedal mode (PCC). This will provide you with smooth adaptive cruise control by sending the right commands to your Tesla Pedal. Tesla Pedal works down to 1 MPH, but be careful, regen brakes stop working at 5 MPH (8 km/h).
</p>
<!-- 
NewPP limit report
Cached time: 20250430025819
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.033 seconds
Real time usage: 0.212 seconds
Preprocessor visited node count: 45/1000000
Preprocessor generated node count: 62/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 353/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key my_wiki-tesla_:pcache:idhash:4-0!canonical and timestamp 20250430025819 and revision id 1502
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php">https://tinkla.us/index.php?title=Pedal_Interceptor&amp;oldid=1502</a>"</div>
<div class="visualClear"></div></div></div></div><div id="content-bottom-stuff"><div class="catlinks catlinks-allhidden" data-mw="interface" id="catlinks"></div></div></div><div id="mw-site-navigation"><div class="mw-portlet" id="p-logo" role="banner"><a class="mw-wiki-logo" href="index_php/Main_Page.html" title="Visit the main page"></a></div><div class="sidebar-chunk" id="site-navigation"><h2><span>Navigation</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-Navigation-label" class="mw-portlet" id="p-Navigation" role="navigation"><h3 dir="ltr" id="p-Navigation-label" lang="en">Navigation</h3><div class="mw-portlet-body"><ul><li id="n-Tinkla-Main-Page"><a href="t/index.php" rel="nofollow" target="_blank"><span>Tinkla Main Page</span></a></li><li id="n-Tinkla-Wiki-Main-Page"><a href="index_php/Main_Page.html"><span>Tinkla Wiki Main Page</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_Unity-label" class="mw-portlet" id="p-Tesla_Unity" role="navigation"><h3 dir="ltr" id="p-Tesla_Unity-label" lang="en">Tesla Unity</h3><div class="mw-portlet-body"><ul><li id="n-Overview"><a href="index_php/Comma_devkit.html"><span>Overview</span></a></li><li id="n-Installing"><a href="index_php/Comma_devkit.html"><span>Installing</span></a></li><li id="n-Config"><a href="index_php/Tesla_Unity_Configuration.html"><span>Config</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_OP_for_EON-label" class="mw-portlet" id="p-Tesla_OP_for_EON" role="navigation"><h3 dir="ltr" id="p-Tesla_OP_for_EON-label" lang="en">Tesla OP for EON</h3><div class="mw-portlet-body"><ul><li id="n-Overview"><a href="index_php/EON.html"><span>Overview</span></a></li><li id="n-Installing"><a href="index_php/EON.html"><span>Installing</span></a></li><li id="n-Config"><a href="index_php/OpenPilot_Configuration_File.html"><span>Config</span></a></li></ul></div></div><div aria-labelledby="p-Tesla_Cars-label" class="mw-portlet" id="p-Tesla_Cars" role="navigation"><h3 dir="ltr" id="p-Tesla_Cars-label" lang="en">Tesla Cars</h3><div class="mw-portlet-body"><ul><li id="n-preAP"><a href="index_php/OpenPilot_for_preAP_Tesla_ModelS.html"><span>preAP</span></a></li><li id="n-AP1"><a href="index_php/OpenPilot_for_Tesla_Model_S/X_with_AP1.html"><span>AP1</span></a></li><li id="n-AP2"><a href="index_php/OpenPilot_for_Tesla_Model_S/X_with_AP2.html"><span>AP2</span></a></li></ul></div></div><div aria-labelledby="p-Integration-label" class="mw-portlet" id="p-Integration" role="navigation"><h3 dir="ltr" id="p-Integration-label" lang="en">Integration</h3><div class="mw-portlet-body"><ul><li id="n-preAP-IC-Integration"><a href="index_php/PreAP__IC_Integration_with_OP.html"><span>preAP IC Integration</span></a></li></ul></div></div><div aria-labelledby="p-Components-label" class="mw-portlet" id="p-Components" role="navigation"><h3 dir="ltr" id="p-Components-label" lang="en">Components</h3><div class="mw-portlet-body"><ul><li id="n-Comma-devkit"><a href="index_php/Comma_devkit.html"><span>Comma devkit</span></a></li><li id="n-EON-.28deprecated.29"><a href="index_php/EON.html"><span>EON (deprecated)</span></a></li></ul></div></div><div aria-labelledby="p-preAP_Components-label" class="mw-portlet" id="p-preAP_Components" role="navigation"><h3 dir="ltr" id="p-preAP_Components-label" lang="en">preAP Components</h3><div class="mw-portlet-body"><ul><li id="n-Tinkla-OBD-C"><a href="index_php/Tinkla_OBD-C_Adapter.html"><span>Tinkla OBD-C</span></a></li><li id="n-Tesla-Radar"><a href="index_php/Tesla_Bosch_Radar.html"><span>Tesla Radar</span></a></li><li id="n-Pedal-Interceptor"><a href="index_php/Pedal_Interceptor.html"><span>Pedal Interceptor</span></a></li><li id="n-Tinkla-Buddy"><a href="index_php/Tinkla_Buddy.html"><span>Tinkla Buddy</span></a></li></ul></div></div><div aria-labelledby="p-AP_Components-label" class="mw-portlet" id="p-AP_Components" role="navigation"><h3 dir="ltr" id="p-AP_Components-label" lang="en">AP Components</h3><div class="mw-portlet-body"><ul><li id="n-AP1-Harness"><a href="index_php/AP1_Harness.html"><span>AP1 Harness</span></a></li><li id="n-AP2-Harness"><a href="index_php/AP2_Harness.html"><span>AP2 Harness</span></a></li><li id="n-Tinkla-Relay"><a href="index_php/Tinkla_Relay.html"><span>Tinkla Relay</span></a></li></ul></div></div><div aria-labelledby="p-Older_Components-label" class="mw-portlet" id="p-Older_Components" role="navigation"><h3 dir="ltr" id="p-Older_Components-label" lang="en">Older Components</h3><div class="mw-portlet-body"><ul><li id="n-Panda"><a href="index_php/Panda.html"><span>Panda</span></a></li><li id="n-Tesla-Giraffe"><a href="index_php/Tesla_Giraffe.html"><span>Tesla Giraffe</span></a></li><li id="n-EPAS-Harness"><a href="index_php/EPAS_harness.html"><span>EPAS Harness</span></a></li><li id="n-OP-Configuration-File"><a href="index_php/OpenPilot_Configuration_File.html"><span>OP Configuration File</span></a></li></ul></div></div><div aria-labelledby="p-Reference-label" class="mw-portlet" id="p-Reference" role="navigation"><h3 dir="ltr" id="p-Reference-label" lang="en">Reference</h3><div class="mw-portlet-body"><ul><li id="n-Disclaimer-and-Licensing"><a href="index_php/Tinkla_General_disclaimer.html"><span>Disclaimer and Licensing</span></a></li><li id="n-AWG-Chart"><a href="index_php/AWG_chart.html"><span>AWG Chart</span></a></li></ul></div></div><div aria-labelledby="p-Other-label" class="mw-portlet" id="p-Other" role="navigation"><h3 dir="ltr" id="p-Other-label" lang="en">Other</h3><div class="mw-portlet-body"><ul><li id="n-Comma.ai"><a href="https://comma.ai" rel="nofollow" target="_blank"><span>Comma.ai</span></a></li><li id="n-GitHub-Repo"><a href="https://github.com/BogGyver/openpilot" rel="nofollow" target="_blank"><span>GitHub Repo</span></a></li></ul></div></div></div></div><div class="sidebar-chunk" id="site-tools"><h2><span>Wiki tools</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-tb-label" class="mw-portlet" id="p-tb" role="navigation"><h3 dir="ltr" id="p-tb-label" lang="en">Wiki tools</h3><div class="mw-portlet-body"><ul><li id="t-specialpages"><a accesskey="q" href="index_php/Special_SpecialPages.html" title="A list of all special pages [q]"><span>Special pages</span></a></li><li id="t-cite"><a href="index.php" title="Information on how to cite this page"><span>Cite this page</span></a></li></ul></div></div></div></div></div><div id="mw-related-navigation"><div class="sidebar-chunk" id="page-tools"><h2><span>Page tools</span><div class="pokey"></div></h2><div class="sidebar-inner"><div aria-labelledby="p-cactions-label" class="mw-portlet" id="p-cactions" role="navigation"><h3 dir="ltr" id="p-cactions-label" lang="en">Page tools</h3><div class="mw-portlet-body"><ul><li id="ca-myact"><a href="index.php"><span>My action</span></a></li></ul></div></div><div aria-labelledby="p-userpagetools-label" class="mw-portlet emptyPortlet" id="p-userpagetools" role="navigation"><h3 dir="ltr" id="p-userpagetools-label" lang="en">Userpage tools</h3><div class="mw-portlet-body"><ul></ul></div></div><div aria-labelledby="p-pagemisc-label" class="mw-portlet" id="p-pagemisc" role="navigation"><h3 dir="ltr" id="p-pagemisc-label" lang="en">More</h3><div class="mw-portlet-body"><ul><li id="t-whatlinkshere"><a accesskey="j" href="index_php/Special_WhatLinksHere/Pedal_Interceptor.html" title="A list of all wiki pages that link here [j]"><span>What links here</span></a></li><li id="t-recentchangeslinked"><a accesskey="k" href="/index.php/Special:RecentChangesLinked/Pedal_Interceptor" rel="nofollow" title="Recent changes in pages linked from this page [k]"><span>Related changes</span></a></li><li id="t-print"><a accesskey="p" href="index.php" rel="alternate" title="Printable version of this page [p]"><span>Printable version</span></a></li><li id="t-permalink"><a href="index.php" title="Permanent link to this revision of the page"><span>Permanent link</span></a></li><li id="t-info"><a href="index.php" title="More information about this page"><span>Page information</span></a></li><li id="t-pagelog"><a href="index_php/Special_Log/Pedal_Interceptor.html"><span>Page logs</span></a></li></ul></div></div></div></div></div><div class="visualClear"></div></div></div><div class="ts-container" id="mw-footer-container"><div class="ts-inner" id="mw-footer"><div dir="ltr" id="footer-bottom" lang="en" role="contentinfo"><div class="footer-icons" id="f-poweredbyico"><a href="//www.mediawiki.org/" target="_blank"><img alt="Powered by MediaWiki" height="31" src="resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88"/></a></div><ul class="footer-places" id="f-list"><li id="lastmod"> This page was last edited on 1 September 2022, at 18:11.</li><li id="privacy"><a href="/index.php/Tinkla:Privacy_policy" title="Tinkla:Privacy policy">Privacy policy</a></li><li id="about"><a href="/index.php/Tinkla:About" title="Tinkla:About">About Tinkla: Tinkering with Tesla</a></li><li id="disclaimer"><a href="index_php/Tinkla_General_disclaimer.html" title="Tinkla:General disclaimer">Disclaimers</a></li></ul><div class="visualClear"></div></div></div></div></div><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.033","walltime":"0.212","ppvisitednodes":{"value":45,"limit":1000000},"ppgeneratednodes":{"value":62,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":353,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20250430025819","ttl":86400,"transientcontent":false}}});});</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-141390218-1', 'auto');
  ga('send', 'pageview');

</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":3360});});</script></body></html>